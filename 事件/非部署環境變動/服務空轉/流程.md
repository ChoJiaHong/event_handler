# 頻率調整事件處理流程

本文件分別說明三種事件對應的頻率調整流程：

1. **一般異常事件**（如延遲、queue堆積）：進行壓力測試直到測得最大吞吐量，據以調整頻率。
2. **部署環境變動（已有最大吞吐量紀錄）**：直接查詢既有紀錄調整頻率，無需壓力測試。
3. **部署環境變動（無最大吞吐量紀錄）**：進行壓力測試並紀錄新環境的最大吞吐量，再調整頻率。

---

## 1. 一般異常事件（非部署環境變動）

```mermaid
graph TD
    A[偵測到事件（一般異常事件）] --> B[進入頻率調整]
    B --> C[進行壓力測試]
    C --> D{達到最大吞吐?}
    D --yes--> E[記錄最大吞吐量]
    E --> F[重新分配請求頻率]
    F --> G[回穩定狀態]
    D --no--> C
    G --> A
